"use strict";(self.webpackChunkmonogame_extended_website=self.webpackChunkmonogame_extended_website||[]).push([[976],{2394:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>r,metadata:()=>s,toc:()=>h});var o=a(4848),n=a(8453);const r={id:"orthographiccamera",sidebar_label:"Orthographic Camera",title:"Orthographic Camera"},i=void 0,s={id:"features/camera/orthographic-camera/orthographiccamera",title:"Orthographic Camera",description:"This camera type creates a view with no depth perception.  Exactly what is wanted for a 2D game.  Below are some of the common actions you might want to take with the camera.  There are many other methods and attributes on the class you can use and modify to get different behavior.",source:"@site/docs/features/camera/orthographic-camera/orthographic-camera.md",sourceDirName:"features/camera/orthographic-camera",slug:"/features/camera/orthographic-camera/",permalink:"/docs/features/camera/orthographic-camera/",draft:!1,unlisted:!1,editUrl:"https://github.com/craftworkgames/craftworkgames.github.io/tree/develop/docs/features/camera/orthographic-camera/orthographic-camera.md",tags:[],version:"current",frontMatter:{id:"orthographiccamera",sidebar_label:"Orthographic Camera",title:"Orthographic Camera"},sidebar:"docs",previous:{title:"Camera",permalink:"/docs/features/camera/"},next:{title:"Gum Forms",permalink:"/docs/features/ui/gum/gum-forms/"}},c={},h=[{value:"Creating the camera",id:"creating-the-camera",level:2},{value:"Applying the camera to the world",id:"applying-the-camera-to-the-world",level:2},{value:"Moving the camera",id:"moving-the-camera",level:2},{value:"Zooming with the camera",id:"zooming-with-the-camera",level:2},{value:"Rotating the camera",id:"rotating-the-camera",level:2},{value:"Get World coordinates",id:"get-world-coordinates",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"This camera type creates a view with no depth perception.  Exactly what is wanted for a 2D game.  Below are some of the common actions you might want to take with the camera.  There are many other methods and attributes on the class you can use and modify to get different behavior."}),"\n",(0,o.jsx)(t.h2,{id:"creating-the-camera",children:"Creating the camera"}),"\n",(0,o.jsx)(t.p,{children:"To create a camera initialize an instance of it using one of the constructor overloads. It's recommended that you used a viewport adapter to scale the screen but you don't have to.  The camera has the same width and height values of a default Monogame project."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"private OrthographicCamera _camera;\n\nprotected override void Initialize()\n{\n    base.Initialize();\n\n    var viewportAdapter = new BoxingViewportAdapter(Window, GraphicsDevice, 800, 480);\n    _camera = new OrthographicCamera(viewportAdapter);\n}\n"})}),"\n",(0,o.jsx)(t.h2,{id:"applying-the-camera-to-the-world",children:"Applying the camera to the world"}),"\n",(0,o.jsx)(t.p,{children:"Having the camera instance is useless unless we tell Monogame's spriteBatch to use the camera."}),"\n",(0,o.jsxs)(t.p,{children:["You'll need to apply the camera's view matrix to one or more of the ",(0,o.jsx)(t.code,{children:"SpriteBatch.Begin"})," calls in your ",(0,o.jsx)(t.code,{children:"Draw"})," method."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"protected override void Draw(GameTime gameTime)\n{\n    var transformMatrix = _camera.GetViewMatrix();\n    _spriteBatch.Begin(transformMatrix: transformMatrix);\n    _spriteBatch.DrawRectangle(new RectangleF(250,250,50,50), Color.Black, 1f);\n    _spriteBatch.End();\n}\n"})}),"\n",(0,o.jsx)(t.p,{children:"In the above example, a single black rectangle is drawn at (250, 250), and because the camera was (800, 480), this means it will fit everything from (0,0) to (800,480) on the screen (Zooming in or out as needed).  Since the size matches the default Monogame Viewport and GraphicsDevice siz, no scaling will take place."}),"\n",(0,o.jsxs)(t.p,{children:["A ",(0,o.jsx)(t.code,{children:"TransformationMatrix"})," is one of the parameters of a ",(0,o.jsx)(t.code,{children:"SpriteBatch.Begin"})," call."]}),"\n",(0,o.jsx)(t.p,{children:"The transformation matrix is used for scale, rotate, and translate options.\nIn other words, we use the camera to transform the way a batch of sprites is rendered to the screen without actually modifying their positions, rotations, or scales directly. This creates the effect of having a camera looking at your scene that can move, rotate, and zoom in and out."}),"\n",(0,o.jsx)(t.h2,{id:"moving-the-camera",children:"Moving the camera"}),"\n",(0,o.jsxs)(t.p,{children:["A method ",(0,o.jsx)(t.code,{children:"Move"})," has been exposed allowing you to pass a Vector2 distance in the X and Y direction to move the camera."]}),"\n",(0,o.jsxs)(t.p,{children:["Camera movement should be done in the ",(0,o.jsx)(t.code,{children:"Update"})," method somehow. For example, you could move the camera's position with the arrow keys."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"private Vector2 GetMovementDirection()\n{\n    var movementDirection = Vector2.Zero;\n    var state = Keyboard.GetState();\n    if (state.IsKeyDown(Keys.Down))\n    {\n        movementDirection += Vector2.UnitY;\n    }\n    if (state.IsKeyDown(Keys.Up))\n    {\n        movementDirection -= Vector2.UnitY;\n    }\n    if (state.IsKeyDown(Keys.Left))\n    {\n        movementDirection -= Vector2.UnitX;\n    }\n    if (state.IsKeyDown(Keys.Right))\n    {\n        movementDirection += Vector2.UnitX;\n    }\n    return movementDirection;\n}\n\nprotected override void Update(GameTime gameTime)\n{\n    const float movementSpeed = 200;\n    _camera.Move(GetMovementDirection() * movementSpeed * gameTime.GetElapsedSeconds());\n}\n"})}),"\n",(0,o.jsx)(t.p,{children:"You can now move the camera around using the Arrow keys."}),"\n",(0,o.jsx)(t.h2,{id:"zooming-with-the-camera",children:"Zooming with the camera"}),"\n",(0,o.jsx)(t.p,{children:"The default value for zoom is 1.0f.  Increasing this value will make the scene larger, while decreasing will make it smaller."}),"\n",(0,o.jsxs)(t.p,{children:["When possible try to use the convenient methods ",(0,o.jsx)(t.code,{children:"ZoomIn"})," and ",(0,o.jsx)(t.code,{children:"ZoomOut"})," instead of directly setting the ",(0,o.jsx)(t.code,{children:"Zoom"})," value.  It's ok to set the ",(0,o.jsx)(t.code,{children:"Zoom"})," value, but be aware ",(0,o.jsx)(t.code,{children:"Zoom"})," can throw an exception if you pass too large of a value.  While the convenient methods clamp their values to prevent an error."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"// Add this to the Game1.cs file\nprivate void AdjustZoom()\n{\n    var state = Keyboard.GetState();\n    float zoomPerTick = 0.01f;\n    if (state.IsKeyDown(Keys.Z))\n    {\n        _camera.ZoomIn(zoomPerTick);\n    }\n    if (state.IsKeyDown(Keys.X))\n    {\n        _camera.ZoomOut(zoomPerTick);\n    }\n}\n\n// Add this to the Update() method\nAdjustZoom();\n"})}),"\n",(0,o.jsx)(t.p,{children:"You can now press Z to zoom in, and X to zoom out."}),"\n",(0,o.jsx)(t.h2,{id:"rotating-the-camera",children:"Rotating the camera"}),"\n",(0,o.jsxs)(t.p,{children:["Rotating the camera is just as easy as zooming.  The important thing to be aware of is that the rotation is around the Center point called the ",(0,o.jsx)(t.code,{children:"Origin"}),".  If you don't want to rotate the scene based on the middle of the screen, you'll need to adjust the origin."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"// Place this method in the Game1.cs file with the other methods\nprivate void RotateCamera()\n{\n    var state = Keyboard.GetState();\n    float rotateRadiansPerTick = 0.01f;\n    if (state.IsKeyDown(Keys.OemSemicolon))\n    {\n        _camera.Rotate(rotateRadiansPerTick);\n    }\n    if (state.IsKeyDown(Keys.OemQuotes))\n    {\n        _camera.Rotate(-rotateRadiansPerTick);\n    }\n}\n\n// Place this in the Update method\nRotateCamera();\n"})}),"\n",(0,o.jsx)(t.p,{children:"You can press ; (semicolon) to rotate left, and ' (apostrophe) to rotate right."}),"\n",(0,o.jsx)(t.h2,{id:"get-world-coordinates",children:"Get World coordinates"}),"\n",(0,o.jsx)(t.p,{children:"Last but not least, there'll be times when you want to convert from screen coordinates to world coordinates and vice-versa."}),"\n",(0,o.jsxs)(t.p,{children:["For example, if you want to know which sprite is under the mouse you'll need to convert the mouse position (screen position) back into the world position that was used to position the sprite in the first place.  Use the ",(0,o.jsx)(t.code,{children:"ScreenToWorld"})," method for that."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"var mouseState = Mouse.GetState();\n_worldPosition = _camera.ScreenToWorld(new Vector2(mouseState.X, mouseState.Y));\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you need to instead convert a world position into a screen position, you can use ",(0,o.jsx)(t.code,{children:"WorldToScreen"}),".  Assuming you have a character in the world called ",(0,o.jsx)(t.code,{children:"player"}),", you can use this."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:"_screenPosition = _camera.WorldToScreen(new Vector2(player.X, player.Y));\n"})}),"\n",(0,o.jsx)(t.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://stevehazen.wordpress.com/2010/02/15/matrix-basics-how-to-step-away-from-storing-an-orientation-as-3-angles/",children:"Matrix Basics"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Orthographic_projection",children:"Orthographic Camera"})}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>s});var o=a(6540);const n={},r=o.createContext(n);function i(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);